{% extends 'base.html.twig' %}

{% block title %}Register to BookVerse
{% endblock %}

{% block body %}
	<div class="container-fluid vh-100">
		<div
			class="row h-100">
			<!-- Left Side: Register Form -->
			<div
				class="col-md-6 d-flex flex-column justify-content-center align-items-center p-4">
				<!-- Logo -->
				<h2 class="text-primary mb-4">BookVerse</h2>

				<!-- Heading and Subtitle -->
				<h1 class="h3 mb-2 fw-bold">Create an Account</h1>
				<p class="text-muted mb-4">Join our community of book lovers</p>

				<!-- Tabs -->
				<ul class="nav nav-tabs mb-4" role="tablist">
					<li class="nav-item">
						<a class="nav-link" href="{{ path('app_login') }}">Sign In</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" href="#">Sign Up</a>
					</li>
				</ul>

				<!-- Form -->
				<form method="post" class="w-50" style="max-width: 400px;">
					{{ form_start(registrationForm) }}
					<!-- Global Form Errors -->
					{{ form_errors(registrationForm) }}

					<!-- Username Field -->
					<div class="mb-3">
						{{ form_label(registrationForm.username, null, {'label_attr': {'class': 'form-label'}}) }}
						<div class="input-group">
							<span class="input-group-text">üë§</span>
							{{ form_widget(registrationForm.username, {'attr': {'class': 'form-control', 'autocomplete': 'username'}}) }}
						</div>
						{{ form_errors(registrationForm.username) }}
					</div>

					<!-- Email Field -->
					<div class="mb-3">
						{{ form_label(registrationForm.email, null, {'label_attr': {'class': 'form-label'}}) }}
						<div class="input-group">
							<span class="input-group-text">‚úâÔ∏è</span>
							{{ form_widget(registrationForm.email, {'attr': {'class': 'form-control', 'autocomplete': 'email'}}) }}
						</div>
						{{ form_errors(registrationForm.email) }}
					</div>

					<!-- Password Field -->
					<div class="mb-3">
						{{ form_label(registrationForm.plainPassword.first, 'Password', {'label_attr': {'class': 'form-label'}}) }}
						<div class="input-group">
							<span class="input-group-text">üîí</span>
							{{ form_widget(registrationForm.plainPassword.first, {'attr': {'class': 'form-control', 'id': 'inputPassword1', 'autocomplete': 'new-password'}}) }}
							<button type="button" class="btn btn-outline-secondary" onclick="togglePassword('inputPassword1')" aria-label="Toggle password visibility">üëÅÔ∏è</button>
						</div>
						{{ form_errors(registrationForm.plainPassword.first) }}
					</div>

					<!-- Confirm Password Field -->
					<div class="mb-3">
						{{ form_label(registrationForm.plainPassword.second, 'Confirm Password', {'label_attr': {'class': 'form-label'}}) }}
						<div class="input-group">
							<span class="input-group-text">üîí</span>
							{{ form_widget(registrationForm.plainPassword.second, {'attr': {'class': 'form-control', 'id': 'inputPassword2', 'autocomplete': 'new-password'}}) }}
							<button type="button" class="btn btn-outline-secondary" onclick="togglePassword('inputPassword2')" aria-label="Toggle password visibility">üëÅÔ∏è</button>
						</div>
						{{ form_errors(registrationForm.plainPassword.second) }}
					</div>

					<!-- Agree to Terms -->
					<div class="mb-3 form-check">
						{{ form_widget(registrationForm.agreeTerms, {'attr': {'class': 'form-check-input'}}) }}
						{{ form_label(registrationForm.agreeTerms, null, {'label_attr': {'class': 'form-check-label'}}) }}
						{{ form_errors(registrationForm.agreeTerms) }}
					</div>

					<!-- Register Button -->
					<button type="submit" class="btn btn-primary w-100 mb-3">Register</button>
					{{ form_end(registrationForm) }}
				</form>

				<!-- Alternative Sign Up Options -->
				<div class="w-50" style="max-width: 400px;">
					<div class="text-center mb-3">
						<p class="text-muted">Or sign in with</p>
						<hr>
						<div class="mb-4 position-relative">
							<button class="btn btn-outline-secondary w-100 py-2 rounded-3 d-flex align-items-center justify-content-center">
								<img src="{{ asset('images/google-logo.png') }}" width="20" class="me-2" alt="Google">
								Sign in with Google
							</button>
						</div>
					</div>
				</div>


				<!-- Terms and Privacy Policy -->
				<p class="text-center text-muted small">
					By signing up, you agree to our
					<a href="#" class="text-primary">Terms</a>
					and
					<a href="#" class="text-primary">Privacy Policy</a>
				</p>
			</div>

			<!-- Right Side: Promotional Background -->
			<div class="col-md-6 d-none d-md-flex flex-column justify-content-center align-items-center text-center text-white p-5 min-vh-100" style='background-image: url("/images/auth_bg.jpg"); background-size: cover; background-position: center;'>
				<div>
					<h2 class="fw-bold mb-3 color-black">Your Reading Journey Starts Here</h2>
					<p>Discover books, connect with readers, and build your library.</p>
				</div>
			</div>
		</div>
	</div>

	<!-- JavaScript for Password Toggle -->
	<script>
		function togglePassword(id) {
const passwordInput = document.getElementById(id);
passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
}
	</script>
{% endblock %}
